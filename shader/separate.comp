layout (local_size_x = 1) in;

vec2 constrain(vec2 pos) {
	float dist = length(pos);
	vec2 dir = pos * (1.0 / dist);
	return dir * min(dist, 1.0 - RADIUS);
}

void main(void) {
	uint i = gl_GlobalInvocationID.x;
	vec2 pos = Particles[i].xy;
	pos += 0.2 * Separations[i];
	pos = constrain(pos);
	Particles[i].xy = pos;
}
